# Connect Four
Toy command line Connect Four game implemented with `ruby` and `rspec` using a test driven development (TDD) approach. 👉[Live demo.](https://replit.com/@KevinKuei/Connect-Four#main.rb)👈

### About
___
* [Connect 4 Wiki](https://en.wikipedia.org/wiki/Connect_Four)
* Game gist:
  * It's a two player connection board game.
  * Players take turns dropping a token into a seven (7) column, six (6) row vertical grid.
  * Pieces fall straight down.
  * The objective is to be first to form a horizontal, vertical, or diaganol line of four (4) of one's own tokens.
  * Losing player must surrender their life savings the victor. 🙃

### Design Ramblings & Notes
___
* I borrowed some code snippets from my tic-tac-toe game. One key mechanics difference is specifying moves by tile location in tic-tac-toe versus by column for connect-four. Subsequently, a 1D to 2D mapping for relating tile numbers (for display) to board coordinates wasn't really required, which made implementation more straightforward.
* Once nice trick for inserting pieces I realized is to insert into the first empty slot using something like a #reverse_each_with_index, and filling the first nil location to emulate the drop mechanism in connect-four.
* For checking diaganol winning conditions, there probably is a nicer recursive solution out there than the one I implemented. Some ideas from this [Leetcode Problem](https://leetcode.com/problems/longest-line-of-consecutive-one-in-matrix/solution/). 
* For my approach, I identify 'base' squares that I use as seeds for generating diaganol lines in the bottom-left => top-right trending, and top-left => bottom-right trending directions, keeping only tiles that reside inside the board, and recognizing that the length of the diaganol is constrained by the number of rows. This amounts to a nested array (array of different diaganols) that I check individually for a connect-four condition, similar to horizontal and vertical algorithms. 

### Example Game
___
```
    ██████╗ ██████╗ ███╗   ██╗███╗   ██╗███████╗ ██████╗████████╗
    ██╔════╝██╔═══██╗████╗  ██║████╗  ██║██╔════╝██╔════╝╚══██╔══╝
    ██║     ██║   ██║██╔██╗ ██║██╔██╗ ██║█████╗  ██║        ██║
    ██║     ██║   ██║██║╚██╗██║██║╚██╗██║██╔══╝  ██║        ██║
    ╚██████╗╚██████╔╝██║ ╚████║██║ ╚████║███████╗╚██████╗   ██║
     ╚═════╝ ╚═════╝ ╚═╝  ╚═══╝╚═╝  ╚═══╝╚══════╝ ╚═════╝   ╚═╝

    ███████╗ ██████╗ ██╗   ██╗██████╗
    ██╔════╝██╔═══██╗██║   ██║██╔══██╗
    █████╗  ██║   ██║██║   ██║██████╔╝
    ██╔══╝  ██║   ██║██║   ██║██╔══██╗
    ██║     ╚██████╔╝╚██████╔╝██║  ██║
    ╚═╝      ╚═════╝  ╚═════╝ ╚═╝  ╚═╝
    
Player 1:
Enter a user name
Kevin

Player 2:
Enter a user name
Alan

Player 1 (●): Kevin turn:
Enter a column number: 0-6.

   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
 0   1   2   3   4   5   6 

0
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
 ● ║   ║   ║   ║   ║   ║   
 0   1   2   3   4   5   6 


Player 2 (◌): Alan turn:
Enter a column number: 0-6.

   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
 ● ║   ║   ║   ║   ║   ║   
 0   1   2   3   4   5   6 

1
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
 ● ║ ◌ ║   ║   ║   ║   ║   
 0   1   2   3   4   5   6 


Player 1 (●): Kevin turn:
Enter a column number: 0-6.

   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
 ● ║ ◌ ║   ║   ║   ║   ║   
 0   1   2   3   4   5   6 

1
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║ ● ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
 ● ║ ◌ ║   ║   ║   ║   ║   
 0   1   2   3   4   5   6 


Player 2 (◌): Alan turn:
Enter a column number: 0-6.

   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║ ● ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
 ● ║ ◌ ║   ║   ║   ║   ║   
 0   1   2   3   4   5   6 

2
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║ ● ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
 ● ║ ◌ ║ ◌ ║   ║   ║   ║   
 0   1   2   3   4   5   6 


Player 1 (●): Kevin turn:
Enter a column number: 0-6.

   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║ ● ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
 ● ║ ◌ ║ ◌ ║   ║   ║   ║   
 0   1   2   3   4   5   6 

2
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║ ● ║ ● ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
 ● ║ ◌ ║ ◌ ║   ║   ║   ║   
 0   1   2   3   4   5   6 


Player 2 (◌): Alan turn:
Enter a column number: 0-6.

   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║ ● ║ ● ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
 ● ║ ◌ ║ ◌ ║   ║   ║   ║   
 0   1   2   3   4   5   6 

3
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║ ● ║ ● ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
 ● ║ ◌ ║ ◌ ║ ◌ ║   ║   ║   
 0   1   2   3   4   5   6 


Player 1 (●): Kevin turn:
Enter a column number: 0-6.

   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║ ● ║ ● ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
 ● ║ ◌ ║ ◌ ║ ◌ ║   ║   ║   
 0   1   2   3   4   5   6 

4
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║ ● ║ ● ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
 ● ║ ◌ ║ ◌ ║ ◌ ║ ● ║   ║   
 0   1   2   3   4   5   6 


Player 2 (◌): Alan turn:
Enter a column number: 0-6.

   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║ ● ║ ● ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
 ● ║ ◌ ║ ◌ ║ ◌ ║ ● ║   ║   
 0   1   2   3   4   5   6 

3
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║ ● ║ ● ║ ◌ ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
 ● ║ ◌ ║ ◌ ║ ◌ ║ ● ║   ║   
 0   1   2   3   4   5   6 


Player 1 (●): Kevin turn:
Enter a column number: 0-6.

   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║ ● ║ ● ║ ◌ ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
 ● ║ ◌ ║ ◌ ║ ◌ ║ ● ║   ║   
 0   1   2   3   4   5   6 

4
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║ ● ║ ● ║ ◌ ║ ● ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
 ● ║ ◌ ║ ◌ ║ ◌ ║ ● ║   ║   
 0   1   2   3   4   5   6 


Player 2 (◌): Alan turn:
Enter a column number: 0-6.

   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║ ● ║ ● ║ ◌ ║ ● ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
 ● ║ ◌ ║ ◌ ║ ◌ ║ ● ║   ║   
 0   1   2   3   4   5   6 

3
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║ ◌ ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║ ● ║ ● ║ ◌ ║ ● ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
 ● ║ ◌ ║ ◌ ║ ◌ ║ ● ║   ║   
 0   1   2   3   4   5   6 


Player 1 (●): Kevin turn:
Enter a column number: 0-6.

   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║ ◌ ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║ ● ║ ● ║ ◌ ║ ● ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
 ● ║ ◌ ║ ◌ ║ ◌ ║ ● ║   ║   
 0   1   2   3   4   5   6 

4
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║ ◌ ║ ● ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║ ● ║ ● ║ ◌ ║ ● ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
 ● ║ ◌ ║ ◌ ║ ◌ ║ ● ║   ║   
 0   1   2   3   4   5   6 


Player 2 (◌): Alan turn:
Enter a column number: 0-6.

   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║ ◌ ║ ● ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║ ● ║ ● ║ ◌ ║ ● ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
 ● ║ ◌ ║ ◌ ║ ◌ ║ ● ║   ║   
 0   1   2   3   4   5   6 

3
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║   ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║ ◌ ║   ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║   ║   ║ ◌ ║ ● ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
   ║ ● ║ ● ║ ◌ ║ ● ║   ║   
═══╬═══╬═══╬═══╬═══╬═══╬═══
 ● ║ ◌ ║ ◌ ║ ◌ ║ ● ║   ║   
 0   1   2   3   4   5   6 

CONNECT 4! Player 2: Alan (◌) wins!

S C O R E B O A R D:
Player 1 (●): Kevin      wins: 0
Player 2 (◌): Alan       wins: 1

Press any key to continue playing.
```